<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Prank App</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
  <style>
    /* Prank video overlay (hidden by default) */
    .prank-overlay {
      position: fixed;
      top: 0; left: 0;
      width: 100%;
      height: 100%;
      background: black;
      display: none;              /* hidden initially */
      justify-content: center;
      align-items: center;
      flex-direction: column;
      z-index: 9999;              /* on top of everything */
    }

    .prank-overlay video {
      max-width: 480px;
      width: 100%;
      height: auto;
      border-radius: 12px;
      box-shadow: 0 8px 24px rgba(0,0,0,0.6);
    }

    .prank-overlay .caption {
      margin-top: 20px;
      text-align: center;
      font-size: 2rem;
      font-weight: bold;
      color: red;
      text-shadow: 2px 2px 8px black;
    }
  </style>
</head>
<body class="home-body">
  <div class="overlay">
    <button id="startBtn" class="start-btn"></button>
  </div>

  <!-- Hidden prank overlay -->
  <!-- Hidden prank overlay -->
<div class="prank-overlay" id="prankOverlay">
  <video id="prankVideo" playsinline>
    <source src="{{ url_for('static', filename='videos/prank.mp4') }}" type="video/mp4">
    Your browser does not support the video tag.
  </video>
  <div class="caption">Youâ€™ve been pranked ðŸ˜‚</div>
</div>


  <script>
    const startBtn = document.getElementById("startBtn");
const prankOverlay = document.getElementById("prankOverlay");
const prankVideo = document.getElementById("prankVideo");

// Preload images
const imagesToPreload = [
  "{{ url_for('static', filename='images/home-design-new.png') }}",
  "{{ url_for('static', filename='images/btn-bg.png') }}"
];
imagesToPreload.forEach(src => {
  const img = new Image();
  img.src = src;
});

// Preload prank video
prankVideo.preload = "auto";
prankVideo.src = "{{ url_for('static', filename='videos/prank.mp4') }}";

// On start button click
startBtn.addEventListener("click", () => {
  prankOverlay.style.display = "flex";

  prankVideo.muted = false;
  prankVideo.play()
    .then(() => console.log("Prank video playing!"))
    .catch(err => console.error("Play error:", err));

  prankVideo.addEventListener("contextmenu", e => e.preventDefault());
});


  </script>
</body>
</html>
